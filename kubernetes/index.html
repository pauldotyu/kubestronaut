
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../ubuntu/">
      
      
        <link rel="next" href="../kcna/">
      
      
      <link rel="icon" href="../assets/kubestronaut-stacked-color.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.7">
    
    
      
        <title>Install Kubernetes - So you want to be a Kubestronaut</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.8608ea7d.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-8TB1PXGXJZ"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-8TB1PXGXJZ",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-8TB1PXGXJZ",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#overview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="So you want to be a Kubestronaut" class="md-header__button md-logo" aria-label="So you want to be a Kubestronaut" data-md-component="logo">
      
  <img src="../assets/kubestronaut-stacked-white.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            So you want to be a Kubestronaut
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Install Kubernetes
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/pauldotyu/kubestronaut" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="So you want to be a Kubestronaut" class="md-nav__button md-logo" aria-label="So you want to be a Kubestronaut" data-md-component="logo">
      
  <img src="../assets/kubestronaut-stacked-white.png" alt="logo">

    </a>
    So you want to be a Kubestronaut
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/pauldotyu/kubestronaut" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting started
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../vmware/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Install VMware
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../ubuntu/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Install Ubuntu Server
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Install Kubernetes
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Install Kubernetes
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prepare-the-control-and-worker-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      Prepare the control and worker nodes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Prepare the control and worker nodes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#disable-swap" class="md-nav__link">
    <span class="md-ellipsis">
      Disable swap
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system-updates" class="md-nav__link">
    <span class="md-ellipsis">
      System updates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-gvisor" class="md-nav__link">
    <span class="md-ellipsis">
      Install gVisor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-containerd" class="md-nav__link">
    <span class="md-ellipsis">
      Install containerd
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-kubeadm-kubelet-and-kubectl" class="md-nav__link">
    <span class="md-ellipsis">
      Install kubeadm, kubelet, and kubectl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-critctl" class="md-nav__link">
    <span class="md-ellipsis">
      Install critctl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-crictl" class="md-nav__link">
    <span class="md-ellipsis">
      Configure crictl
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kubernetes-control-plane" class="md-nav__link">
    <span class="md-ellipsis">
      Kubernetes control plane
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Kubernetes control plane">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-with-kubeadm" class="md-nav__link">
    <span class="md-ellipsis">
      Install with kubeadm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-cilium-cni-plugin" class="md-nav__link">
    <span class="md-ellipsis">
      Install Cilium CNI plugin
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cluster-verification" class="md-nav__link">
    <span class="md-ellipsis">
      Cluster verification
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#join-the-worker-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      Join the worker nodes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-and-configure-tools" class="md-nav__link">
    <span class="md-ellipsis">
      Install and configure tools
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Install and configure tools">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configure-kubectl-completion-and-alias" class="md-nav__link">
    <span class="md-ellipsis">
      Configure kubectl completion and alias
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-vim" class="md-nav__link">
    <span class="md-ellipsis">
      Configure vim
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-helm" class="md-nav__link">
    <span class="md-ellipsis">
      Install Helm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-etcdctl" class="md-nav__link">
    <span class="md-ellipsis">
      Install etcdctl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-trivy" class="md-nav__link">
    <span class="md-ellipsis">
      Install trivy
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-ingress-controller" class="md-nav__link">
    <span class="md-ellipsis">
      Install Ingress Controller
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Install Ingress Controller">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configure-kube-proxy" class="md-nav__link">
    <span class="md-ellipsis">
      Configure kube-proxy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-metallb" class="md-nav__link">
    <span class="md-ellipsis">
      Install MetalLB
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-ingress-controller_1" class="md-nav__link">
    <span class="md-ellipsis">
      Install Ingress Controller
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#take-a-snapshot" class="md-nav__link">
    <span class="md-ellipsis">
      Take a snapshot
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../kcna/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kubernetes and Cloud Native Associate (KCNA)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../kcsa/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kubernetes and Cloud Native Security Associate (KCSA)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../ckad/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Certified Kubernetes Application Developer (CKAD)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../cka/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Certified Kubernetes Administrator (CKA)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../cks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Certified Kubernetes Security Specialist (CKS)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../exam/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exam tips
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../next/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What's next?
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prepare-the-control-and-worker-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      Prepare the control and worker nodes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Prepare the control and worker nodes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#disable-swap" class="md-nav__link">
    <span class="md-ellipsis">
      Disable swap
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system-updates" class="md-nav__link">
    <span class="md-ellipsis">
      System updates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-gvisor" class="md-nav__link">
    <span class="md-ellipsis">
      Install gVisor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-containerd" class="md-nav__link">
    <span class="md-ellipsis">
      Install containerd
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-kubeadm-kubelet-and-kubectl" class="md-nav__link">
    <span class="md-ellipsis">
      Install kubeadm, kubelet, and kubectl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-critctl" class="md-nav__link">
    <span class="md-ellipsis">
      Install critctl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-crictl" class="md-nav__link">
    <span class="md-ellipsis">
      Configure crictl
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kubernetes-control-plane" class="md-nav__link">
    <span class="md-ellipsis">
      Kubernetes control plane
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Kubernetes control plane">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-with-kubeadm" class="md-nav__link">
    <span class="md-ellipsis">
      Install with kubeadm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-cilium-cni-plugin" class="md-nav__link">
    <span class="md-ellipsis">
      Install Cilium CNI plugin
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cluster-verification" class="md-nav__link">
    <span class="md-ellipsis">
      Cluster verification
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#join-the-worker-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      Join the worker nodes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-and-configure-tools" class="md-nav__link">
    <span class="md-ellipsis">
      Install and configure tools
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Install and configure tools">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configure-kubectl-completion-and-alias" class="md-nav__link">
    <span class="md-ellipsis">
      Configure kubectl completion and alias
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-vim" class="md-nav__link">
    <span class="md-ellipsis">
      Configure vim
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-helm" class="md-nav__link">
    <span class="md-ellipsis">
      Install Helm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-etcdctl" class="md-nav__link">
    <span class="md-ellipsis">
      Install etcdctl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-trivy" class="md-nav__link">
    <span class="md-ellipsis">
      Install trivy
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-ingress-controller" class="md-nav__link">
    <span class="md-ellipsis">
      Install Ingress Controller
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Install Ingress Controller">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configure-kube-proxy" class="md-nav__link">
    <span class="md-ellipsis">
      Configure kube-proxy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-metallb" class="md-nav__link">
    <span class="md-ellipsis">
      Install MetalLB
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-ingress-controller_1" class="md-nav__link">
    <span class="md-ellipsis">
      Install Ingress Controller
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#take-a-snapshot" class="md-nav__link">
    <span class="md-ellipsis">
      Take a snapshot
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/pauldotyu/kubestronaut/edit/main/docs/kubernetes.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/pauldotyu/kubestronaut/raw/main/docs/kubernetes.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  


  <h1>Install Kubernetes</h1>

<h2 id="overview">Overview</h2>
<p>This workshop intentionally uses Kubernetes v1.31.6 to provide cluster upgrade practice opportunities. While current exams are based on Kubernetes v1.32, the core concepts remain consistent between versions.</p>
<p>As part of the cluster setup, you'll install containerd for the container runtime, <a href="https://gvisor.dev/">gVisor</a> for container isolation, Cilium as the CNI plugin, MetalLB for mimicking cloud load balancers, and Ingress-Nginx Controller - all well-documented, popular choices that you can substitute if preferred.</p>
<h2 id="prepare-the-control-and-worker-nodes">Prepare the control and worker nodes</h2>
<p>For each of the nodes (control and workers), you'll need to install the necessary packages and configure the system. Each node will need to have the following installed: </p>
<ul>
<li>containerd</li>
<li>gVisor</li>
<li>crictl</li>
<li>kubeadm</li>
<li>kubelet</li>
<li>kubectl</li>
</ul>
<p>To begin, SSH into the control node and switch to the root user.</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>-i
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Most of the tasks you perform will be as the root user. This is avoid having to use <code>sudo</code> for every command.</p>
</div>
<h3 id="disable-swap">Disable swap</h3>
<p>To avoid Kubernetes data such as contents of Secret object being written to tmpfs, "swap to disk" must be disabled. </p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>See <a href="https://discuss.kubernetes.io/t/swap-off-why-is-it-necessary/6879">Tim Hokin's comment</a> and the <a href="https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/#before-you-begin">kubeadm prerequisites</a> to better understand why swap must be disabled.</p>
</div>
<p><strong>Reference:</strong> <a href="https://kubernetes.io/docs/concepts/architecture/nodes/#swap-memory">https://kubernetes.io/docs/concepts/architecture/nodes/#swap-memory</a></p>
<div class="highlight"><pre><span></span><code>swapoff<span class="w"> </span>-a
sed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;/\&lt;swap\&gt;/s/^/#/&#39;</span><span class="w"> </span>/etc/fstab
</code></pre></div>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>If swap is not disabled, you may also encounter issues with the kubelet service failing to start.</p>
</div>
<h3 id="system-updates">System updates</h3>
<p>Update the system and install necessary packages.</p>
<div class="highlight"><pre><span></span><code>apt-get<span class="w"> </span>update<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>apt-get<span class="w"> </span>upgrade<span class="w"> </span>-y
</code></pre></div>
<h3 id="install-gvisor">Install gVisor</h3>
<p>gVisor is is used to provide an additional layer of security for containers. It uses runsc which is a lightweight, portable, and secure container runtime that implements the gVisor runtime interface.</p>
<p>Install the dependencies for runsc.</p>
<div class="highlight"><pre><span></span><code>apt-get<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span><span class="se">\</span>
apt-transport-https<span class="w"> </span><span class="se">\</span>
ca-certificates<span class="w"> </span><span class="se">\</span>
curl<span class="w"> </span><span class="se">\</span>
gnupg
</code></pre></div>
<p>Add the gVisor repository and install runsc.</p>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-fsSL<span class="w"> </span>https://gvisor.dev/archive.key<span class="w"> </span><span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>gpg<span class="w"> </span>--dearmor<span class="w"> </span>-o<span class="w"> </span>/usr/share/keyrings/gvisor-archive-keyring.gpg
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;deb [arch=</span><span class="k">$(</span>dpkg<span class="w"> </span>--print-architecture<span class="k">)</span><span class="s2"> signed-by=/usr/share/keyrings/gvisor-archive-keyring.gpg] https://storage.googleapis.com/gvisor/releases release main&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>tee<span class="w"> </span>/etc/apt/sources.list.d/gvisor.list<span class="w"> </span>&gt;<span class="w"> </span>/dev/null
sudo<span class="w"> </span>apt-get<span class="w"> </span>update<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>runsc
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>runsc will be configured as the runtime for containerd in the next steps.</p>
</div>
<p><strong>Reference:</strong> <a href="https://gvisor.dev/docs/user_guide/containerd/quick_start/">https://gvisor.dev/docs/user_guide/containerd/quick_start/</a></p>
<h3 id="install-containerd">Install containerd</h3>
<p>Kubernetes uses the Container Runtime Interface (CRI) to interact with container runtimes and containerd is the container runtime that it uses (it was dockerd in the past).</p>
<p>Install containerd on each node from the Docker repository and configure it to use systemd as the cgroup driver.</p>
<p><strong>Reference:</strong> <a href="https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/#installing-runtime">https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/#installing-runtime</a></p>
<p>Add docker gpg key and repository.</p>
<div class="highlight"><pre><span></span><code>install<span class="w"> </span>-m<span class="w"> </span><span class="m">0755</span><span class="w"> </span>-d<span class="w"> </span>/etc/apt/keyrings
curl<span class="w"> </span>-fsSL<span class="w"> </span>https://download.docker.com/linux/ubuntu/gpg<span class="w"> </span>-o<span class="w"> </span>/etc/apt/keyrings/docker.asc
chmod<span class="w"> </span>a+r<span class="w"> </span>/etc/apt/keyrings/docker.asc
<span class="nb">echo</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span><span class="s2">&quot;deb [arch=</span><span class="k">$(</span>dpkg<span class="w"> </span>--print-architecture<span class="k">)</span><span class="s2"> signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu \</span>
<span class="s2">  </span><span class="k">$(</span>.<span class="w"> </span>/etc/os-release<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$VERSION_CODENAME</span><span class="s2">&quot;</span><span class="k">)</span><span class="s2"> stable&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>tee<span class="w"> </span>/etc/apt/sources.list.d/docker.list<span class="w"> </span>&gt;<span class="w"> </span>/dev/null
</code></pre></div>
<p>Update packages and install containerd.</p>
<div class="highlight"><pre><span></span><code>apt-get<span class="w"> </span>update
apt-get<span class="w"> </span>install<span class="w"> </span>containerd.io<span class="w"> </span>-y
</code></pre></div>
<p>Configure containerd to use systemd as the cgroup driver, use systemd cgroups, and use runsc as the runtime.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># generate default config</span>
mkdir<span class="w"> </span>-p<span class="w"> </span>/etc/containerd
containerd<span class="w"> </span>config<span class="w"> </span>default<span class="w"> </span><span class="p">|</span><span class="w"> </span>tee<span class="w"> </span>/etc/containerd/config.toml
<span class="c1"># update to use systemd cgroup driver</span>
sed<span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;s/SystemdCgroup = false/SystemdCgroup = true/g&#39;</span><span class="w"> </span>-i<span class="w"> </span>/etc/containerd/config.toml
<span class="c1"># configure containerd to use runsc</span>
sed<span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;s/shim_debug = false/shim_debug = true/g&#39;</span><span class="w"> </span>-i<span class="w"> </span>/etc/containerd/config.toml
sed<span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;/\[plugins.&quot;io.containerd.grpc.v1.cri&quot;.containerd.runtimes\]/a \\n        [plugins.&quot;io.containerd.grpc.v1.cri&quot;.containerd.runtimes.runsc]\n          runtime_type = &quot;io.containerd.runsc.v1&quot;&#39;</span><span class="w"> </span>/etc/containerd/config.toml
<span class="c1"># restart containerd</span>
systemctl<span class="w"> </span>restart<span class="w"> </span>containerd
systemctl<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>containerd
</code></pre></div>
<p><strong>Reference:</strong> <a href="https://kubernetes.io/docs/setup/production-environment/container-runtimes/#containerd-systemd">https://kubernetes.io/docs/setup/production-environment/container-runtimes/#containerd-systemd</a></p>
<p>Update containerd to load the overlay and br_netfilter modules. This is necessary for the overlay network to work.</p>
<div class="highlight"><pre><span></span><code>cat<span class="w"> </span><span class="s">&lt;&lt; EOF | tee /etc/modules-load.d/containerd.conf</span>
<span class="s">overlay</span>
<span class="s">br_netfilter</span>
<span class="s">EOF</span>
</code></pre></div>
<p>Update kernel network settings to allow traffic to be forwarded.</p>
<div class="highlight"><pre><span></span><code>cat<span class="w"> </span><span class="s">&lt;&lt; EOF | tee /etc/sysctl.d/kubernetes.conf</span>
<span class="s">net.bridge.bridge-nf-call-ip6tables = 1</span>
<span class="s">net.bridge.bridge-nf-call-iptables = 1</span>
<span class="s">net.ipv4.ip_forward = 1</span>
<span class="s">EOF</span>
</code></pre></div>
<p><strong>Reference:</strong> <a href="https://kubernetes.io/docs/setup/production-environment/container-runtimes/#prerequisite-ipv4-forwarding-optional">https://kubernetes.io/docs/setup/production-environment/container-runtimes/#prerequisite-ipv4-forwarding-optional</a></p>
<p>Load the kernel modules and apply the sysctl settings to ensure the changes are used.</p>
<div class="highlight"><pre><span></span><code>modprobe<span class="w"> </span>overlay
modprobe<span class="w"> </span>br_netfilter
sysctl<span class="w"> </span>--system
</code></pre></div>
<p>Verify containerd is running.</p>
<div class="highlight"><pre><span></span><code>systemctl<span class="w"> </span>status<span class="w"> </span>containerd
</code></pre></div>
<h3 id="install-kubeadm-kubelet-and-kubectl">Install kubeadm, kubelet, and kubectl</h3>
<p>The following tools are necessary for a successful Kubernetes installation:</p>
<ul>
<li><strong>kubeadm</strong>: the command to bootstrap the cluster.</li>
<li><strong>kubelet</strong>: the component that runs on all of the machines in the cluster and does things like starting pods and containers.</li>
<li><strong>kubectl</strong>: the command line tool to interact with the cluster.</li>
</ul>
<p><strong>Reference:</strong> <a href="https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/#installing-kubeadm-kubelet-and-kubectl">https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/#installing-kubeadm-kubelet-and-kubectl</a></p>
<p>Add the Kubernetes repository.</p>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-fsSL<span class="w"> </span>https://pkgs.k8s.io/core:/stable:/v1.31/deb/Release.key<span class="w"> </span><span class="p">|</span><span class="w"> </span>gpg<span class="w"> </span>--dearmor<span class="w"> </span>-o<span class="w"> </span>/etc/apt/keyrings/kubernetes-apt-keyring.gpg
<span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;deb [signed-by=/etc/apt/keyrings/kubernetes-apt-keyring.gpg] https://pkgs.k8s.io/core:/stable:/v1.31/deb/ /&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>tee<span class="w"> </span>/etc/apt/sources.list.d/kubernetes.list
</code></pre></div>
<p>Update the system, install the Kubernetes packages, and hold packages so they don't get unintentionally updated.</p>
<div class="highlight"><pre><span></span><code>apt-get<span class="w"> </span>update
apt-get<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span><span class="nv">kubelet</span><span class="o">=</span><span class="m">1</span>.31.6-1.1<span class="w"> </span><span class="nv">kubeadm</span><span class="o">=</span><span class="m">1</span>.31.6-1.1<span class="w"> </span><span class="nv">kubectl</span><span class="o">=</span><span class="m">1</span>.31.6-1.1
apt-mark<span class="w"> </span>hold<span class="w"> </span>kubelet<span class="w"> </span>kubeadm<span class="w"> </span>kubectl
</code></pre></div>
<p>Enable kubelet.</p>
<div class="highlight"><pre><span></span><code>systemctl<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>--now<span class="w"> </span>kubelet
</code></pre></div>
<h3 id="install-critctl">Install critctl</h3>
<p>CRI-O is an implementation of the Container Runtime Interface (CRI) used by the kubelet to interact with container runtimes. Install crictl by downloading the binary to the system.</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">CRICTL_VERSION</span><span class="o">=</span><span class="s2">&quot;v1.31.1&quot;</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">CRICTL_ARCH</span><span class="o">=</span><span class="k">$(</span>dpkg<span class="w"> </span>--print-architecture<span class="k">)</span>
wget<span class="w"> </span>https://github.com/kubernetes-sigs/cri-tools/releases/download/<span class="si">${</span><span class="nv">CRICTL_VERSION</span><span class="si">}</span>/crictl-<span class="si">${</span><span class="nv">CRICTL_VERSION</span><span class="si">}</span>-linux-<span class="si">${</span><span class="nv">CRICTL_ARCH</span><span class="si">}</span>.tar.gz
tar<span class="w"> </span>zxvf<span class="w"> </span>crictl-<span class="si">${</span><span class="nv">CRICTL_VERSION</span><span class="si">}</span>-linux-<span class="si">${</span><span class="nv">CRICTL_ARCH</span><span class="si">}</span>.tar.gz<span class="w"> </span>-C<span class="w"> </span>/usr/local/bin
rm<span class="w"> </span>-f<span class="w"> </span>crictl-<span class="si">${</span><span class="nv">CRICTL_VERSION</span><span class="si">}</span>-linux-<span class="si">${</span><span class="nv">CRICTL_ARCH</span><span class="si">}</span>.tar.gz
</code></pre></div>
<p><strong>Reference:</strong> <a href="https://kubernetes.io/docs/setup/production-environment/container-runtimes/#cri-o">https://kubernetes.io/docs/setup/production-environment/container-runtimes/#cri-o</a></p>
<p>Verify crictl is installed.</p>
<div class="highlight"><pre><span></span><code>crictl<span class="w"> </span>version
</code></pre></div>
<h3 id="configure-crictl">Configure crictl</h3>
<p>Configure crictl to use the containerd socket by default to avoid seeing a warning each time you run crictl commands.</p>
<div class="highlight"><pre><span></span><code>crictl<span class="w"> </span>config<span class="w"> </span>--set<span class="w"> </span>runtime-endpoint<span class="o">=</span>unix:///run/containerd/containerd.sock
</code></pre></div>
<p><strong>Reference:</strong> <a href="https://github.com/kubernetes-sigs/cri-tools/issues/868#issuecomment-1926494368">https://github.com/kubernetes-sigs/cri-tools/issues/868#issuecomment-1926494368</a></p>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>Before you move on, jump back to the <a href="#prepare-the-control-and-worker-nodes">Prepare the control and worker nodes</a> section and repeat these steps for each worker node.</p>
</div>
<h2 id="kubernetes-control-plane">Kubernetes control plane</h2>
<p>The control node is where the Kubernetes control plane components will be installed. This includes the <a href="https://kubernetes.io/docs/reference/command-line-tools-reference/kube-apiserver/">API server</a>, <a href="https://kubernetes.io/docs/reference/command-line-tools-reference/kube-controller-manager/">controller manager</a>, <a href="https://kubernetes.io/docs/reference/command-line-tools-reference/kube-scheduler/">scheduler</a>, and <a href="https://etcd.io/">etcd</a>. The control node will also run the <a href="https://kubernetes.io/docs/concepts/extend-kubernetes/compute-storage-net/network-plugins/">CNI plugin</a> to provide networking for the cluster.</p>
<h3 id="install-with-kubeadm">Install with kubeadm</h3>
<p>Using kubeadm, install the Kubernetes with the <code>kubeadm init</code> command. This will install the control plane components and create the necessary configuration files.</p>
<p>Make sure you are back in the control node as the root user and run the following command to initialize the cluster.</p>
<div class="highlight"><pre><span></span><code>kubeadm<span class="w"> </span>init<span class="w"> </span>--kubernetes-version<span class="w"> </span><span class="m">1</span>.31.6<span class="w"> </span>--pod-network-cidr<span class="w"> </span><span class="m">10</span>.21.0.0/16<span class="w"> </span>--v<span class="o">=</span><span class="m">5</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This can take a few minutes to complete. Be patient and wait for the process to finish.</p>
</div>
<p><strong>Reference:</strong> <a href="https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/create-cluster-kubeadm/">https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/create-cluster-kubeadm/</a></p>
<p>Export the kubeconfig file so the root user can access the cluster.</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">KUBECONFIG</span><span class="o">=</span>/etc/kubernetes/admin.conf
</code></pre></div>
<h3 id="install-cilium-cni-plugin">Install Cilium CNI plugin</h3>
<p>Kubernetes requires a Container Network Interface (CNI) plugin to provide networking for the cluster. Cilium will be used as the CNI plugin for the cluster. Cilium is a powerful, efficient, and secure CNI plugin that provides network security, observability, and troubleshooting capabilities.</p>
<p><strong>Reference:</strong> <a href="https://docs.cilium.io/en/stable/gettingstarted/k8s-install-default/#install-the-cilium-cli">https://docs.cilium.io/en/stable/gettingstarted/k8s-install-default/#install-the-cilium-cli</a></p>
<p>Install the Cilium CLI.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The Cilium CLI version will be pinned to <code>v0.16.24</code>. To get the latest version, visit the <a href="https://github.com/cilium/cilium-cli/releases">Cilium CLI releases page</a> and update the version number.</p>
</div>
<p>Set the Cilium version and architecture.</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">CILIUM_VERSION</span><span class="o">=</span><span class="s2">&quot;v0.16.24&quot;</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">CILIUM_ARCH</span><span class="o">=</span><span class="k">$(</span>dpkg<span class="w"> </span>--print-architecture<span class="k">)</span>
</code></pre></div>
<p>Download the Cilium CLI binary its sha256sum and verify sha256sum to ensure the binary isn't corrupted.</p>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-L<span class="w"> </span>--fail<span class="w"> </span>--remote-name-all<span class="w"> </span>https://github.com/cilium/cilium-cli/releases/download/<span class="si">${</span><span class="nv">CILIUM_VERSION</span><span class="si">}</span>/cilium-linux-<span class="si">${</span><span class="nv">CILIUM_ARCH</span><span class="si">}</span>.tar.gz<span class="o">{</span>,.sha256sum<span class="o">}</span>
sha256sum<span class="w"> </span>--check<span class="w"> </span>cilium-linux-<span class="si">${</span><span class="nv">CILIUM_ARCH</span><span class="si">}</span>.tar.gz.sha256sum
</code></pre></div>
<p>Move binary to proper location and remove tarball file.</p>
<div class="highlight"><pre><span></span><code>tar<span class="w"> </span>xzvf<span class="w"> </span>cilium-linux-<span class="si">${</span><span class="nv">CILIUM_ARCH</span><span class="si">}</span>.tar.gz<span class="w"> </span>-C<span class="w"> </span>/usr/local/bin
rm<span class="w"> </span>cilium-linux-<span class="si">${</span><span class="nv">CILIUM_ARCH</span><span class="si">}</span>.tar.gz<span class="o">{</span>,.sha256sum<span class="o">}</span>
</code></pre></div>
<p>Verify the Cilium CLI is installed.</p>
<div class="highlight"><pre><span></span><code>cilium<span class="w"> </span>version<span class="w"> </span>--client
</code></pre></div>
<p>Install Cilium CNI plugin.</p>
<div class="highlight"><pre><span></span><code>cilium<span class="w"> </span>install<span class="w"> </span>--version<span class="w"> </span><span class="m">1</span>.17.1
</code></pre></div>
<p>Run the following command to monitor the Cilium installation progress.</p>
<div class="highlight"><pre><span></span><code>cilium<span class="w"> </span>status<span class="w"> </span>--wait
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This process can take a few minutes and you'll initially see errors and warnings in the output. They will eventually resolve so be patient.</p>
</div>
<p>Within a few minutes, you should see output like this which shows the Cilium CNI plugin is installed and running.</p>
<div class="highlight"><pre><span></span><code>    /¯¯\
 /¯¯\__/¯¯\    Cilium:             OK
 \__/¯¯\__/    Operator:           OK
 /¯¯\__/¯¯\    Envoy DaemonSet:    OK
 \__/¯¯\__/    Hubble Relay:       disabled
    \__/       ClusterMesh:        disabled

DaemonSet              cilium-envoy       Desired: 1, Ready: 1/1, Available: 1/1
DaemonSet              cilium             Desired: 1, Ready: 1/1, Available: 1/1
Deployment             cilium-operator    Desired: 1, Ready: 1/1, Available: 1/1
Containers:            cilium             Running: 1
                       cilium-envoy       Running: 1
                       cilium-operator    Running: 1
Cluster Pods:          0/2 managed by Cilium
Helm chart version:
Image versions         cilium             quay.io/cilium/cilium:v1.16.0@sha256:46ffa4ef3cf6d8885dcc4af5963b0683f7d59daa90d49ed9fb68d3b1627fe058: 1
                       cilium-envoy       quay.io/cilium/cilium-envoy:v1.29.7-39a2a56bbd5b3a591f69dbca51d3e30ef97e0e51@sha256:bd5ff8c66716080028f414ec1cb4f7dc66f40d2fb5a009fff187f4a9b90b566b: 1
                       cilium-operator    quay.io/cilium/operator-generic:v1.16.0@sha256:d6621c11c4e4943bf2998af7febe05be5ed6fdcf812b27ad4388f47022190316: 1
</code></pre></div>
<h3 id="cluster-verification">Cluster verification</h3>
<p>Exit the root shell and run the following commands to configure kubectl for your normal user account.</p>
<div class="highlight"><pre><span></span><code><span class="nb">exit</span>
</code></pre></div>
<p>Configure kubectl for your normal user account.</p>
<div class="highlight"><pre><span></span><code>mkdir<span class="w"> </span>-p<span class="w"> </span><span class="nv">$HOME</span>/.kube
sudo<span class="w"> </span>cp<span class="w"> </span>-i<span class="w"> </span>/etc/kubernetes/admin.conf<span class="w"> </span><span class="nv">$HOME</span>/.kube/config
sudo<span class="w"> </span>chown<span class="w"> </span><span class="k">$(</span>id<span class="w"> </span>-u<span class="k">)</span>:<span class="k">$(</span>id<span class="w"> </span>-g<span class="k">)</span><span class="w"> </span><span class="nv">$HOME</span>/.kube/config
</code></pre></div>
<p>Verify you can connect to the cluster.</p>
<div class="highlight"><pre><span></span><code>kubectl<span class="w"> </span>get<span class="w"> </span>nodes
</code></pre></div>
<p>You should see the control node listed as <strong>Ready</strong>. This means the CNI plugin is running and the control node is ready to accept workloads.</p>
<p>Print the join command and run it on the worker nodes.</p>
<div class="highlight"><pre><span></span><code>kubeadm<span class="w"> </span>token<span class="w"> </span>create<span class="w"> </span>--print-join-command
</code></pre></div>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>Copy the join command to your clipboard or a text file as you'll need it for the next step.</p>
</div>
<h2 id="join-the-worker-nodes">Join the worker nodes</h2>
<p>Log into each worker node, make sure you are in the root shell, and paste and run the join command that you copied from the control node.</p>
<p><strong>Reference:</strong> <a href="https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/create-cluster-kubeadm/#join-nodes">https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/create-cluster-kubeadm/#join-nodes</a></p>
<p>If your shell doesn't show <code>root@worker</code>, run <code>sudo -i</code> to switch to the root user.</p>
<p>Run a command similar to the following on each worker node.</p>
<div class="highlight"><pre><span></span><code>kubeadm<span class="w"> </span>join<span class="w"> </span><span class="m">172</span>.16.25.132:6443<span class="w"> </span>--token<span class="w"> </span>xxxxxxxxxxxxxxx<span class="w"> </span>--discovery-token-ca-cert-hash<span class="w"> </span>sha256:xxxxxxxxxxxxxxxxx
</code></pre></div>
<p>After the worker nodes have joined the cluster, log back into the control node and verify the nodes are listed as <strong>Ready</strong>.</p>
<div class="highlight"><pre><span></span><code>kubectl<span class="w"> </span>get<span class="w"> </span>nodes<span class="w"> </span>-w
</code></pre></div>
<p>Wait until all the worker nodes are listed as <strong>Ready</strong> then press <code>Ctrl+C</code> to exit the watch.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>At this point you can log out of the worker nodes and probably don't need to log into them again. You can work with cluster from the control node.</p>
</div>
<h2 id="install-and-configure-tools">Install and configure tools</h2>
<p>Log back into the control node as your normal user to install some handy tools and configure kubectl. </p>
<h3 id="configure-kubectl-completion-and-alias">Configure kubectl completion and alias</h3>
<p>These configurations are optional but will make your life easier when working with Kubernetes.</p>
<p>Set kubectl alias so you can use <code>k</code> instead of <code>kubectl</code> and add kubectl completion.</p>
<div class="highlight"><pre><span></span><code>cat<span class="w"> </span><span class="s">&lt;&lt; EOF | tee -a ~/.bashrc</span>
<span class="s">source &lt;(kubectl completion bash)</span>
<span class="s">alias k=kubectl</span>
<span class="s">complete -o default -F __start_kubectl k</span>
<span class="s">EOF</span>
</code></pre></div>
<p><strong>Reference:</strong> <a href="https://kubernetes.io/docs/reference/kubectl/quick-reference/">https://kubernetes.io/docs/reference/kubectl/quick-reference/</a></p>
<p>Reload the bash profile.</p>
<div class="highlight"><pre><span></span><code><span class="nb">source</span><span class="w"> </span>~/.bashrc
</code></pre></div>
<h3 id="configure-vim">Configure vim</h3>
<p>Vim will be the main editor you work with throughout the exams, it is best to configure .vimrc to help with editing YAML files.</p>
<div class="highlight"><pre><span></span><code>cat<span class="w"> </span><span class="s">&lt;&lt; EOF | tee -a ~/.vimrc</span>
<span class="s">set tabstop=2</span>
<span class="s">set expandtab</span>
<span class="s">set shiftwidth=2</span>
<span class="s">EOF</span>
</code></pre></div>
<h3 id="install-helm">Install Helm</h3>
<p><a href="https://helm.sh">Helm</a> is a package manager for Kubernetes that helps you manage Kubernetes applications. Helm uses a packaging format called charts which are a collection of files that describe a related set of Kubernetes resources.</p>
<p>Run the following commands to install Helm.</p>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-fsSL<span class="w"> </span>-o<span class="w"> </span>get_helm.sh<span class="w"> </span>https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3
chmod<span class="w"> </span><span class="m">700</span><span class="w"> </span>get_helm.sh
./get_helm.sh
rm<span class="w"> </span>./get_helm.sh
</code></pre></div>
<p><strong>Reference:</strong> <a href="https://helm.sh/docs/intro/install/">https://helm.sh/docs/intro/install/</a></p>
<h3 id="install-etcdctl">Install etcdctl</h3>
<p>etcd is the critical distributed key-value store that serves as Kubernetes' primary database, storing all cluster configuration, state, and metadata.</p>
<p><img alt="Diagram showing etcd's central role in Kubernetes architecture" src="https://user-images.githubusercontent.com/5873433/234062738-14844d26-0cfa-444a-aeca-387531839971.png" /></p>
<p>Run the following command to install etcdctl, the command-line client for interacting with etcd.</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>update<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>etcd-client<span class="w"> </span>-y
</code></pre></div>
<h3 id="install-trivy">Install trivy</h3>
<p><a href="https://trivy.dev/latest/">Trivy</a> is a vulnerability scanner for containers and other artifacts. While typically used in CI/CD pipelines rather than directly on nodes, you'll install it on the control node to become familiar with the tool.</p>
<p>Run the following commands to install the Trivy.</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>wget<span class="w"> </span>gnupg
wget<span class="w"> </span>-qO<span class="w"> </span>-<span class="w"> </span>https://aquasecurity.github.io/trivy-repo/deb/public.key<span class="w"> </span><span class="p">|</span><span class="w"> </span>gpg<span class="w"> </span>--dearmor<span class="w"> </span><span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>tee<span class="w"> </span>/usr/share/keyrings/trivy.gpg<span class="w"> </span>&gt;<span class="w"> </span>/dev/null
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;deb [signed-by=/usr/share/keyrings/trivy.gpg] https://aquasecurity.github.io/trivy-repo/deb generic main&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>tee<span class="w"> </span>-a<span class="w"> </span>/etc/apt/sources.list.d/trivy.list
sudo<span class="w"> </span>apt<span class="w"> </span>update
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>trivy
</code></pre></div>
<p><strong>Reference:</strong> <a href="https://trivy.dev/latest/getting-started/">https://trivy.dev/latest/getting-started/</a></p>
<h2 id="install-ingress-controller">Install Ingress Controller</h2>
<p>Running an ingress controller in a local Kubernetes cluster can be challenging since it requires a Service of type LoadBalancer which isn't available in a local environment. However, you can use <a href="https://metallb.io/">MetalLB</a> which is a load balancer implementation for bare metal Kubernetes clusters.</p>
<h3 id="configure-kube-proxy">Configure kube-proxy</h3>
<p>Run the following commands to edit the <a href="https://kubernetes.io/docs/reference/command-line-tools-reference/kube-proxy/">kube-proxy</a> configuration to use IPVS mode and enable strict ARP for MetalLB.</p>
<div class="highlight"><pre><span></span><code>kubectl<span class="w"> </span>get<span class="w"> </span>configmap<span class="w"> </span>kube-proxy<span class="w"> </span>-n<span class="w"> </span>kube-system<span class="w"> </span>-o<span class="w"> </span>yaml<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="se">\</span>
sed<span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;s/mode: &quot;&quot;/mode: &quot;ipvs&quot;/&#39;</span><span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;s/strictARP: false/strictARP: true/&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="se">\</span>
kubectl<span class="w"> </span>apply<span class="w"> </span>-f<span class="w"> </span>-<span class="w"> </span>-n<span class="w"> </span>kube-system
</code></pre></div>
<h3 id="install-metallb">Install MetalLB</h3>
<p>Run the following command to add the MetalLB repository and install MetalLB.</p>
<div class="highlight"><pre><span></span><code>helm<span class="w"> </span>repo<span class="w"> </span>add<span class="w"> </span>metallb<span class="w"> </span>https://metallb.github.io/metallb
helm<span class="w"> </span>install<span class="w"> </span>metallb<span class="w"> </span>metallb/metallb<span class="w"> </span>--namespace<span class="w"> </span>metallb-system<span class="w"> </span>--create-namespace
</code></pre></div>
<p>Run the following command to create a MetalLB configuration.</p>
<div class="highlight"><pre><span></span><code>kubectl<span class="w"> </span>apply<span class="w"> </span>-f<span class="w"> </span>-<span class="w"> </span><span class="s">&lt;&lt;EOF</span>
<span class="s">apiVersion: metallb.io/v1beta1</span>
<span class="s">kind: IPAddressPool</span>
<span class="s">metadata:</span>
<span class="s">  name: default</span>
<span class="s">  namespace: metallb-system</span>
<span class="s">spec:</span>
<span class="s">  addresses:</span>
<span class="s">  - 192.168.93.10/32 # this is the IP address of the control node</span>
<span class="s">  autoAssign: true</span>
<span class="s">---</span>
<span class="s">apiVersion: metallb.io/v1beta1</span>
<span class="s">kind: L2Advertisement</span>
<span class="s">metadata:</span>
<span class="s">  name: default</span>
<span class="s">  namespace: metallb-system</span>
<span class="s">spec:</span>
<span class="s">  ipAddressPools:</span>
<span class="s">  - default</span>
<span class="s">EOF</span>
</code></pre></div>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>Make sure you update the IP address in the configuration to match the IP address of the control node.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you get an error message like the following:</p>
<div class="highlight"><pre><span></span><code>Error from server (InternalError): error when creating &quot;STDIN&quot;: Internal error occurred: failed calling webhook &quot;ipaddresspoolvalidationwebhook.metallb.io&quot;: failed to call webhook: Post &quot;https://metallb-webhook-service.metallb-system.svc:443/validate-metallb-io-v1beta1-ipaddresspool?timeout=10s&quot;: dial tcp 10.104.133.116:443: connect: connection refused
Error from server (InternalError): error when creating &quot;STDIN&quot;: Internal error occurred: failed calling webhook &quot;l2advertisementvalidationwebhook.metallb.io&quot;: failed to call webhook: Post &quot;https://metallb-webhook-service.metallb-system.svc:443/validate-metallb-io-v1beta1-l2advertisement?timeout=10s&quot;: dial tcp 10.104.133.116:443: connect: connection refused
</code></pre></div>
<p>Simply wait a few seconds and try again.</p>
</div>
<p>This is equivalent to simply using <a href="https://kubernetes.github.io/ingress-nginx/deploy/#bare-metal-clusters">NodePort</a> services but will mimic the behavior of a LoadBalancer service and assign the ingress service an IP address.</p>
<p><strong>Reference:</strong> <a href="https://metallb.universe.tf/installation/">https://metallb.universe.tf/installation/</a></p>
<h3 id="install-ingress-controller_1">Install Ingress Controller</h3>
<p>Ingress Controllers provides Layer 7 load balancing for HTTP, HTTPS, and TCP traffic, allowing external access to services within your Kubernetes cluster.</p>
<p>Run the following command to install the Ingress-Nginx Controller.</p>
<div class="highlight"><pre><span></span><code>helm<span class="w"> </span>upgrade<span class="w"> </span>--install<span class="w"> </span>ingress-nginx<span class="w"> </span>ingress-nginx<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--repo<span class="w"> </span>https://kubernetes.github.io/ingress-nginx<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--namespace<span class="w"> </span>ingress-nginx<span class="w"> </span>--create-namespace
</code></pre></div>
<p><strong>Reference:</strong> <a href="https://kubernetes.github.io/ingress-nginx/deploy/#quick-start">https://kubernetes.github.io/ingress-nginx/deploy/#quick-start</a></p>
<h2 id="take-a-snapshot">Take a snapshot</h2>
<p>At this point, it's recommended to take another snapshot of each virtual machine. Give it a descriptive name like <strong>after-k8s-install</strong> so you can easily revert back to this point if you break something in your cluster.</p>









  



  <form class="md-feedback" name="feedback" hidden>
    <fieldset>
      <legend class="md-feedback__title">
        Was this page helpful?
      </legend>
      <div class="md-feedback__inner">
        <div class="md-feedback__list">
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page was helpful" data-md-value="1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m7 0c0 .8-.7 1.5-1.5 1.5S14 10.3 14 9.5 14.7 8 15.5 8s1.5.7 1.5 1.5m-5 7.73c-1.75 0-3.29-.73-4.19-1.81L9.23 14c.45.72 1.52 1.23 2.77 1.23s2.32-.51 2.77-1.23l1.42 1.42c-.9 1.08-2.44 1.81-4.19 1.81"/></svg>
            </button>
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page could be improved" data-md-value="0">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.5-4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m2 4.5c1.75 0 3.29.72 4.19 1.81l-1.42 1.42C14.32 16.5 13.25 16 12 16s-2.32.5-2.77 1.23l-1.42-1.42C8.71 14.72 10.25 14 12 14"/></svg>
            </button>
          
        </div>
        <div class="md-feedback__note">
          
            <div data-md-value="1" hidden>
              
              
                
              
              Thanks for your feedback!
            </div>
          
            <div data-md-value="0" hidden>
              
              
                
              
              Thanks for your feedback! Help us improve this page by using our <a href="..." target="_blank" rel="noopener">feedback form</a>.
            </div>
          
        </div>
      </div>
    </fieldset>
  </form>


                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../ubuntu/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Install Ubuntu Server">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Install Ubuntu Server
              </div>
            </div>
          </a>
        
        
          
          <a href="../kcna/" class="md-footer__link md-footer__link--next" aria-label="Next: Kubernetes and Cloud Native Associate (KCNA)">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Kubernetes and Cloud Native Associate (KCNA)
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            

  
    
  


  
    
  




<h4>Cookie consent</h4>
<p>I use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of the documentation and whether you can find what you're searching for. With your consent, you're helping me to make this site better. Thank you!</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="analytics" checked>
          <span class="task-list-indicator"></span>
          Google Analytics
        </label>
      </li>
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="github" checked>
          <span class="task-list-indicator"></span>
          GitHub
        </label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.footer", "content.code.copy", "content.action.edit", "content.action.view"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>